{"ast":null,"code":"// src/App.jsx\nimport React,{useState,useRef,useEffect}from\"react\";import\"./App.css\";import bgImage from\"./65aeea27-8a08-4d2d-85a1-d6d2cace0654.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[input,setInput]=useState(\"\");const[chatLog,setChatLog]=useState([]);const chatEndRef=useRef(null);const sendMessage=async()=>{if(!input.trim())return;setChatLog(prev=>[...prev,{sender:\"user\",text:input}]);try{const response=await fetch(\"/api/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:input})});const data=await response.json();setChatLog(prev=>[...prev,{sender:\"bot\",text:data.reply}]);}catch(error){setChatLog(prev=>[...prev,{sender:\"bot\",text:\"서버와 통신 중 오류가 발생했습니다.\"}]);}setInput(\"\");};const handleKeyPress=e=>{if(e.key===\"Enter\")sendMessage();};// 채팅창 스크롤 아래 고정\nuseEffect(()=>{if(chatEndRef.current){chatEndRef.current.scrollIntoView({behavior:\"smooth\"});}},[chatLog]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chatbox\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"\\uD53C\\uBD80\\uC9C8\\uD658\\uC744 \\uCF00\\uC5B4\\uD574\\uB4DC\\uB824\\uC694\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chatlog\",children:[chatLog.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"chat-message \".concat(msg.sender===\"user\"?\"user\":\"bot\"),children:/*#__PURE__*/_jsx(\"span\",{className:\"message-text\",children:msg.text})},i)),/*#__PURE__*/_jsx(\"div\",{ref:chatEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-area\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uBB34\\uC5C7\\uC774\\uB4E0 \\uBB3C\\uC5B4\\uBCF4\\uC138\\uC694\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress,className:\"input-text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,className:\"send-button\",children:\"\\uC804\\uC1A1\"})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","bgImage","jsx","_jsx","jsxs","_jsxs","App","input","setInput","chatLog","setChatLog","chatEndRef","sendMessage","trim","prev","sender","text","response","fetch","method","headers","body","JSON","stringify","message","data","json","reply","error","handleKeyPress","e","key","current","scrollIntoView","behavior","className","children","map","msg","i","concat","ref","type","placeholder","value","onChange","target","onKeyPress","onClick"],"sources":["E:/chatPrac/FE/src/App.jsx"],"sourcesContent":["// src/App.jsx\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport bgImage from \"./65aeea27-8a08-4d2d-85a1-d6d2cace0654.png\";\r\n\r\nfunction App() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [chatLog, setChatLog] = useState([]);\r\n  const chatEndRef = useRef(null);\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    setChatLog((prev) => [...prev, { sender: \"user\", text: input }]);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ message: input }),\r\n      });\r\n      const data = await response.json();\r\n      setChatLog((prev) => [...prev, { sender: \"bot\", text: data.reply }]);\r\n    } catch (error) {\r\n      setChatLog((prev) => [\r\n        ...prev,\r\n        { sender: \"bot\", text: \"서버와 통신 중 오류가 발생했습니다.\" },\r\n      ]);\r\n    }\r\n\r\n    setInput(\"\");\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") sendMessage();\r\n  };\r\n\r\n  // 채팅창 스크롤 아래 고정\r\n  useEffect(() => {\r\n    if (chatEndRef.current) {\r\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [chatLog]);\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <div className=\"background-image\" />\r\n      <div className=\"chatbox\">\r\n        <h2 className=\"title\">피부질환을 케어해드려요</h2>\r\n        <div className=\"chatlog\">\r\n          {chatLog.map((msg, i) => (\r\n            <div\r\n              key={i}\r\n              className={`chat-message ${msg.sender === \"user\" ? \"user\" : \"bot\"}`}\r\n            >\r\n              <span className=\"message-text\">{msg.text}</span>\r\n            </div>\r\n          ))}\r\n          <div ref={chatEndRef} />\r\n        </div>\r\n        <div className=\"input-area\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"무엇이든 물어보세요\"\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            className=\"input-text\"\r\n          />\r\n          <button onClick={sendMessage} className=\"send-button\">\r\n            전송\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}