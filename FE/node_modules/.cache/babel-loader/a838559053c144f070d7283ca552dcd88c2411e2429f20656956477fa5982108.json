{"ast":null,"code":"// frontend/src/App.js\nimport React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[input,setInput]=useState(\"\");const[chatLog,setChatLog]=useState([]);const sendMessage=async()=>{if(!input.trim())return;// 사용자 메시지 추가\nsetChatLog(prev=>[...prev,{sender:\"user\",text:input}]);try{const response=await fetch(\"/api/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:input})});const data=await response.json();// 챗봇 응답 추가\nsetChatLog(prev=>[...prev,{sender:\"bot\",text:data.reply}]);}catch(error){setChatLog(prev=>[...prev,{sender:\"bot\",text:\"서버와 통신 중 오류가 발생했습니다.\"}]);}setInput(\"\");};const handleKeyPress=e=>{if(e.key===\"Enter\")sendMessage();};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:600,margin:\"20px auto\",fontFamily:\"Arial\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"FastAPI + React \\uCC57\\uBD07\"}),/*#__PURE__*/_jsx(\"div\",{style:{border:\"1px solid #ccc\",height:400,padding:10,overflowY:\"auto\",marginBottom:10},children:chatLog.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{style:{textAlign:msg.sender===\"user\"?\"right\":\"left\",margin:\"8px 0\"},children:/*#__PURE__*/_jsx(\"span\",{style:{display:\"inline-block\",padding:\"8px 12px\",borderRadius:15,backgroundColor:msg.sender===\"user\"?\"#007bff\":\"#e4e6eb\",color:msg.sender===\"user\"?\"white\":\"black\",maxWidth:\"80%\"},children:msg.text})},i))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress,style:{width:\"100%\",padding:10,fontSize:16}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,style:{marginTop:10,width:\"100%\"},children:\"\\uC804\\uC1A1\"})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","input","setInput","chatLog","setChatLog","sendMessage","trim","prev","sender","text","response","fetch","method","headers","body","JSON","stringify","message","data","json","reply","error","handleKeyPress","e","key","style","maxWidth","margin","fontFamily","children","border","height","padding","overflowY","marginBottom","map","msg","i","textAlign","display","borderRadius","backgroundColor","color","type","placeholder","value","onChange","target","onKeyPress","width","fontSize","onClick","marginTop"],"sources":["E:/chatPrac/FE/src/App.jsx"],"sourcesContent":["// frontend/src/App.js\r\nimport React, { useState } from \"react\";\r\n\r\nfunction App() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [chatLog, setChatLog] = useState([]);\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    // 사용자 메시지 추가\r\n    setChatLog((prev) => [...prev, { sender: \"user\", text: input }]);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ message: input }),\r\n      });\r\n      const data = await response.json();\r\n      // 챗봇 응답 추가\r\n      setChatLog((prev) => [...prev, { sender: \"bot\", text: data.reply }]);\r\n    } catch (error) {\r\n      setChatLog((prev) => [\r\n        ...prev,\r\n        { sender: \"bot\", text: \"서버와 통신 중 오류가 발생했습니다.\" },\r\n      ]);\r\n    }\r\n\r\n    setInput(\"\");\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") sendMessage();\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 600, margin: \"20px auto\", fontFamily: \"Arial\" }}>\r\n      <h2>FastAPI + React 챗봇</h2>\r\n      <div\r\n        style={{\r\n          border: \"1px solid #ccc\",\r\n          height: 400,\r\n          padding: 10,\r\n          overflowY: \"auto\",\r\n          marginBottom: 10,\r\n        }}\r\n      >\r\n        {chatLog.map((msg, i) => (\r\n          <div\r\n            key={i}\r\n            style={{\r\n              textAlign: msg.sender === \"user\" ? \"right\" : \"left\",\r\n              margin: \"8px 0\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                display: \"inline-block\",\r\n                padding: \"8px 12px\",\r\n                borderRadius: 15,\r\n                backgroundColor: msg.sender === \"user\" ? \"#007bff\" : \"#e4e6eb\",\r\n                color: msg.sender === \"user\" ? \"white\" : \"black\",\r\n                maxWidth: \"80%\",\r\n              }}\r\n            >\r\n              {msg.text}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"메시지를 입력하세요\"\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n        onKeyPress={handleKeyPress}\r\n        style={{ width: \"100%\", padding: 10, fontSize: 16 }}\r\n      />\r\n      <button onClick={sendMessage} style={{ marginTop: 10, width: \"100%\" }}>\r\n        전송\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}